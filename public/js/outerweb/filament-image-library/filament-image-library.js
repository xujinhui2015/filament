(()=>{function li(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),i.push.apply(i,e)}return i}function xi(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?li(Object(i),!0).forEach(function(e){da(a,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):li(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function _e(a){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(a)}function ua(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function hi(a,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,Ti(e.key),e)}}function fa(a,t,i){return t&&hi(a.prototype,t),i&&hi(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}function da(a,t,i){return t=Ti(t),t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function Ci(a){return pa(a)||ga(a)||ma(a)||va()}function pa(a){if(Array.isArray(a))return Ae(a)}function ga(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function ma(a,t){if(a){if(typeof a=="string")return Ae(a,t);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ae(a,t)}}function Ae(a,t){(t==null||t>a.length)&&(t=a.length);for(var i=0,e=new Array(t);i<t;i++)e[i]=a[i];return e}function va(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(a,t){if(typeof a!="object"||a===null)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var e=i.call(a,t||"default");if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function Ti(a){var t=ba(a,"string");return typeof t=="symbol"?t:String(t)}var ce=typeof window<"u"&&typeof window.document<"u",ct=ce?window:{},Xe=ce&&ct.document.documentElement?"ontouchstart"in ct.document.documentElement:!1,He=ce?"PointerEvent"in ct:!1,N="cropper",We="all",Oi="crop",Mi="move",_i="zoom",xt="e",Ct="w",At="s",bt="n",Ft="ne",jt="nw",Ut="se",Gt="sw",Ne="".concat(N,"-crop"),ci="".concat(N,"-disabled"),Q="".concat(N,"-hidden"),ui="".concat(N,"-hide"),wa="".concat(N,"-invisible"),he="".concat(N,"-modal"),Ie="".concat(N,"-move"),$t="".concat(N,"Action"),se="".concat(N,"Preview"),ze="crop",Ai="move",Ni="none",Pe="crop",Re="cropend",ke="cropmove",Be="cropstart",fi="dblclick",ya=Xe?"touchstart":"mousedown",Ea=Xe?"touchmove":"mousemove",Da=Xe?"touchend touchcancel":"mouseup",di=He?"pointerdown":ya,pi=He?"pointermove":Ea,gi=He?"pointerup pointercancel":Da,mi="ready",vi="resize",bi="wheel",Ye="zoom",wi="image/jpeg",Sa=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,xa=/^data:/,Ca=/^data:image\/jpeg;base64,/,Ta=/^img|canvas$/i,Ii=200,Pi=100,yi={viewMode:0,dragMode:ze,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Ii,minContainerHeight:Pi,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Oa='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Ma=Number.isNaN||ct.isNaN;function S(a){return typeof a=="number"&&!Ma(a)}var Ei=function(t){return t>0&&t<1/0};function Oe(a){return typeof a>"u"}function Tt(a){return _e(a)==="object"&&a!==null}var _a=Object.prototype.hasOwnProperty;function Nt(a){if(!Tt(a))return!1;try{var t=a.constructor,i=t.prototype;return t&&i&&_a.call(i,"isPrototypeOf")}catch{return!1}}function Z(a){return typeof a=="function"}var Aa=Array.prototype.slice;function Ri(a){return Array.from?Array.from(a):Aa.call(a)}function X(a,t){return a&&Z(t)&&(Array.isArray(a)||S(a.length)?Ri(a).forEach(function(i,e){t.call(a,i,e,a)}):Tt(a)&&Object.keys(a).forEach(function(i){t.call(a,a[i],i,a)})),a}var I=Object.assign||function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Tt(t)&&e.length>0&&e.forEach(function(n){Tt(n)&&Object.keys(n).forEach(function(o){t[o]=n[o]})}),t},Na=/\.\d*(?:0|9){12}\d*$/;function Pt(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Na.test(a)?Math.round(a*t)/t:a}var Ia=/^width|height|left|top|marginLeft|marginTop$/;function wt(a,t){var i=a.style;X(t,function(e,r){Ia.test(r)&&S(e)&&(e="".concat(e,"px")),i[r]=e})}function Pa(a,t){return a.classList?a.classList.contains(t):a.className.indexOf(t)>-1}function j(a,t){if(t){if(S(a.length)){X(a,function(e){j(e,t)});return}if(a.classList){a.classList.add(t);return}var i=a.className.trim();i?i.indexOf(t)<0&&(a.className="".concat(i," ").concat(t)):a.className=t}}function ht(a,t){if(t){if(S(a.length)){X(a,function(i){ht(i,t)});return}if(a.classList){a.classList.remove(t);return}a.className.indexOf(t)>=0&&(a.className=a.className.replace(t,""))}}function It(a,t,i){if(t){if(S(a.length)){X(a,function(e){It(e,t,i)});return}i?j(a,t):ht(a,t)}}var Ra=/([a-z\d])([A-Z])/g;function Fe(a){return a.replace(Ra,"$1-$2").toLowerCase()}function Le(a,t){return Tt(a[t])?a[t]:a.dataset?a.dataset[t]:a.getAttribute("data-".concat(Fe(t)))}function Kt(a,t,i){Tt(i)?a[t]=i:a.dataset?a.dataset[t]=i:a.setAttribute("data-".concat(Fe(t)),i)}function ka(a,t){if(Tt(a[t]))try{delete a[t]}catch{a[t]=void 0}else if(a.dataset)try{delete a.dataset[t]}catch{a.dataset[t]=void 0}else a.removeAttribute("data-".concat(Fe(t)))}var ki=/\s\s*/,Bi=function(){var a=!1;if(ce){var t=!1,i=function(){},e=Object.defineProperty({},"once",{get:function(){return a=!0,t},set:function(n){t=n}});ct.addEventListener("test",i,e),ct.removeEventListener("test",i,e)}return a}();function ot(a,t,i){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=i;t.trim().split(ki).forEach(function(n){if(!Bi){var o=a.listeners;o&&o[n]&&o[n][i]&&(r=o[n][i],delete o[n][i],Object.keys(o[n]).length===0&&delete o[n],Object.keys(o).length===0&&delete a.listeners)}a.removeEventListener(n,r,e)})}function nt(a,t,i){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=i;t.trim().split(ki).forEach(function(n){if(e.once&&!Bi){var o=a.listeners,s=o===void 0?{}:o;r=function(){delete s[n][i],a.removeEventListener(n,r,e);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];i.apply(a,u)},s[n]||(s[n]={}),s[n][i]&&a.removeEventListener(n,s[n][i],e),s[n][i]=r,a.listeners=s}a.addEventListener(n,r,e)})}function Rt(a,t,i){var e;return Z(Event)&&Z(CustomEvent)?e=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(e=document.createEvent("CustomEvent"),e.initCustomEvent(t,!0,!0,i)),a.dispatchEvent(e)}function Yi(a){var t=a.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Me=ct.location,Ba=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Di(a){var t=a.match(Ba);return t!==null&&(t[1]!==Me.protocol||t[2]!==Me.hostname||t[3]!==Me.port)}function Si(a){var t="timestamp=".concat(new Date().getTime());return a+(a.indexOf("?")===-1?"?":"&")+t}function Vt(a){var t=a.rotate,i=a.scaleX,e=a.scaleY,r=a.translateX,n=a.translateY,o=[];S(r)&&r!==0&&o.push("translateX(".concat(r,"px)")),S(n)&&n!==0&&o.push("translateY(".concat(n,"px)")),S(t)&&t!==0&&o.push("rotate(".concat(t,"deg)")),S(i)&&i!==1&&o.push("scaleX(".concat(i,")")),S(e)&&e!==1&&o.push("scaleY(".concat(e,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Ya(a){var t=xi({},a),i=0;return X(a,function(e,r){delete t[r],X(t,function(n){var o=Math.abs(e.startX-n.startX),s=Math.abs(e.startY-n.startY),h=Math.abs(e.endX-n.endX),l=Math.abs(e.endY-n.endY),u=Math.sqrt(o*o+s*s),c=Math.sqrt(h*h+l*l),f=(c-u)/u;Math.abs(f)>Math.abs(i)&&(i=f)})}),i}function le(a,t){var i=a.pageX,e=a.pageY,r={endX:i,endY:e};return t?r:xi({startX:i,startY:e},r)}function La(a){var t=0,i=0,e=0;return X(a,function(r){var n=r.startX,o=r.startY;t+=n,i+=o,e+=1}),t/=e,i/=e,{pageX:t,pageY:i}}function yt(a){var t=a.aspectRatio,i=a.height,e=a.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",n=Ei(e),o=Ei(i);if(n&&o){var s=i*t;r==="contain"&&s>e||r==="cover"&&s<e?i=e/t:e=i*t}else n?i=e/t:o&&(e=i*t);return{width:e,height:i}}function Xa(a){var t=a.width,i=a.height,e=a.degree;if(e=Math.abs(e)%180,e===90)return{width:i,height:t};var r=e%90*Math.PI/180,n=Math.sin(r),o=Math.cos(r),s=t*o+i*n,h=t*n+i*o;return e>90?{width:h,height:s}:{width:s,height:h}}function Ha(a,t,i,e){var r=t.aspectRatio,n=t.naturalWidth,o=t.naturalHeight,s=t.rotate,h=s===void 0?0:s,l=t.scaleX,u=l===void 0?1:l,c=t.scaleY,f=c===void 0?1:c,m=i.aspectRatio,g=i.naturalWidth,v=i.naturalHeight,E=e.fillColor,M=E===void 0?"transparent":E,x=e.imageSmoothingEnabled,T=x===void 0?!0:x,R=e.imageSmoothingQuality,Y=R===void 0?"low":R,d=e.maxWidth,D=d===void 0?1/0:d,A=e.maxHeight,_=A===void 0?1/0:A,K=e.minWidth,G=K===void 0?0:K,tt=e.minHeight,z=tt===void 0?0:tt,F=document.createElement("canvas"),L=F.getContext("2d"),V=yt({aspectRatio:m,width:D,height:_}),dt=yt({aspectRatio:m,width:G,height:z},"cover"),pt=Math.min(V.width,Math.max(dt.width,g)),Wt=Math.min(V.height,Math.max(dt.height,v)),Te=yt({aspectRatio:r,width:D,height:_}),zt=yt({aspectRatio:r,width:G,height:z},"cover"),oe=Math.min(Te.width,Math.max(zt.width,n)),si=Math.min(Te.height,Math.max(zt.height,o)),ha=[-oe/2,-si/2,oe,si];return F.width=Pt(pt),F.height=Pt(Wt),L.fillStyle=M,L.fillRect(0,0,pt,Wt),L.save(),L.translate(pt/2,Wt/2),L.rotate(h*Math.PI/180),L.scale(u,f),L.imageSmoothingEnabled=T,L.imageSmoothingQuality=Y,L.drawImage.apply(L,[a].concat(Ci(ha.map(function(ca){return Math.floor(Pt(ca))})))),L.restore(),F}var Li=String.fromCharCode;function Wa(a,t,i){var e="";i+=t;for(var r=t;r<i;r+=1)e+=Li(a.getUint8(r));return e}var za=/^data:.*,/;function Fa(a){var t=a.replace(za,""),i=atob(t),e=new ArrayBuffer(i.length),r=new Uint8Array(e);return X(r,function(n,o){r[o]=i.charCodeAt(o)}),e}function ja(a,t){for(var i=[],e=8192,r=new Uint8Array(a);r.length>0;)i.push(Li.apply(null,Ri(r.subarray(0,e)))),r=r.subarray(e);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}function Ua(a){var t=new DataView(a),i;try{var e,r,n;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var o=t.byteLength,s=2;s+1<o;){if(t.getUint8(s)===255&&t.getUint8(s+1)===225){r=s;break}s+=1}if(r){var h=r+4,l=r+10;if(Wa(t,h,4)==="Exif"){var u=t.getUint16(l);if(e=u===18761,(e||u===19789)&&t.getUint16(l+2,e)===42){var c=t.getUint32(l+4,e);c>=8&&(n=l+c)}}}if(n){var f=t.getUint16(n,e),m,g;for(g=0;g<f;g+=1)if(m=n+g*12+2,t.getUint16(m,e)===274){m+=8,i=t.getUint16(m,e),t.setUint16(m,1,e);break}}}catch{i=1}return i}function Ga(a){var t=0,i=1,e=1;switch(a){case 2:i=-1;break;case 3:t=-180;break;case 4:e=-1;break;case 5:t=90,e=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:i,scaleY:e}}var Va={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,i=this.options,e=this.container,r=this.cropper,n=Number(i.minContainerWidth),o=Number(i.minContainerHeight);j(r,Q),ht(t,Q);var s={width:Math.max(e.offsetWidth,n>=0?n:Ii),height:Math.max(e.offsetHeight,o>=0?o:Pi)};this.containerData=s,wt(r,{width:s.width,height:s.height}),j(t,Q),ht(r,Q)},initCanvas:function(){var t=this.containerData,i=this.imageData,e=this.options.viewMode,r=Math.abs(i.rotate)%180===90,n=r?i.naturalHeight:i.naturalWidth,o=r?i.naturalWidth:i.naturalHeight,s=n/o,h=t.width,l=t.height;t.height*s>t.width?e===3?h=t.height*s:l=t.width/s:e===3?l=t.width/s:h=t.height*s;var u={aspectRatio:s,naturalWidth:n,naturalHeight:o,width:h,height:l};this.canvasData=u,this.limited=e===1||e===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(t.width-u.width)/2,u.top=(t.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=I({},u)},limitCanvas:function(t,i){var e=this.options,r=this.containerData,n=this.canvasData,o=this.cropBoxData,s=e.viewMode,h=n.aspectRatio,l=this.cropped&&o;if(t){var u=Number(e.minCanvasWidth)||0,c=Number(e.minCanvasHeight)||0;s>1?(u=Math.max(u,r.width),c=Math.max(c,r.height),s===3&&(c*h>u?u=c*h:c=u/h)):s>0&&(u?u=Math.max(u,l?o.width:0):c?c=Math.max(c,l?o.height:0):l&&(u=o.width,c=o.height,c*h>u?u=c*h:c=u/h));var f=yt({aspectRatio:h,width:u,height:c});u=f.width,c=f.height,n.minWidth=u,n.minHeight=c,n.maxWidth=1/0,n.maxHeight=1/0}if(i)if(s>(l?0:1)){var m=r.width-n.width,g=r.height-n.height;n.minLeft=Math.min(0,m),n.minTop=Math.min(0,g),n.maxLeft=Math.max(0,m),n.maxTop=Math.max(0,g),l&&this.limited&&(n.minLeft=Math.min(o.left,o.left+(o.width-n.width)),n.minTop=Math.min(o.top,o.top+(o.height-n.height)),n.maxLeft=o.left,n.maxTop=o.top,s===2&&(n.width>=r.width&&(n.minLeft=Math.min(0,m),n.maxLeft=Math.max(0,m)),n.height>=r.height&&(n.minTop=Math.min(0,g),n.maxTop=Math.max(0,g))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=r.width,n.maxTop=r.height},renderCanvas:function(t,i){var e=this.canvasData,r=this.imageData;if(i){var n=Xa({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),o=n.width,s=n.height,h=e.width*(o/e.naturalWidth),l=e.height*(s/e.naturalHeight);e.left-=(h-e.width)/2,e.top-=(l-e.height)/2,e.width=h,e.height=l,e.aspectRatio=o/s,e.naturalWidth=o,e.naturalHeight=s,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,wt(this.canvas,I({width:e.width,height:e.height},Vt({translateX:e.left,translateY:e.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var i=this.canvasData,e=this.imageData,r=e.naturalWidth*(i.width/i.naturalWidth),n=e.naturalHeight*(i.height/i.naturalHeight);I(e,{width:r,height:n,left:(i.width-r)/2,top:(i.height-n)/2}),wt(this.image,I({width:e.width,height:e.height},Vt(I({translateX:e.left,translateY:e.top},e)))),t&&this.output()},initCropBox:function(){var t=this.options,i=this.canvasData,e=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,n={width:i.width,height:i.height};e&&(i.height*e>i.width?n.height=n.width/e:n.width=n.height*e),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*r),n.height=Math.max(n.minHeight,n.height*r),n.left=i.left+(i.width-n.width)/2,n.top=i.top+(i.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=I({},n)},limitCropBox:function(t,i){var e=this.options,r=this.containerData,n=this.canvasData,o=this.cropBoxData,s=this.limited,h=e.aspectRatio;if(t){var l=Number(e.minCropBoxWidth)||0,u=Number(e.minCropBoxHeight)||0,c=s?Math.min(r.width,n.width,n.width+n.left,r.width-n.left):r.width,f=s?Math.min(r.height,n.height,n.height+n.top,r.height-n.top):r.height;l=Math.min(l,r.width),u=Math.min(u,r.height),h&&(l&&u?u*h>l?u=l/h:l=u*h:l?u=l/h:u&&(l=u*h),f*h>c?f=c/h:c=f*h),o.minWidth=Math.min(l,c),o.minHeight=Math.min(u,f),o.maxWidth=c,o.maxHeight=f}i&&(s?(o.minLeft=Math.max(0,n.left),o.minTop=Math.max(0,n.top),o.maxLeft=Math.min(r.width,n.left+n.width)-o.width,o.maxTop=Math.min(r.height,n.top+n.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=r.width-o.width,o.maxTop=r.height-o.height))},renderCropBox:function(){var t=this.options,i=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,t.movable&&t.cropBoxMovable&&Kt(this.face,$t,e.width>=i.width&&e.height>=i.height?Mi:We),wt(this.cropBox,I({width:e.width,height:e.height},Vt({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Rt(this.element,Pe,this.getData())}},$a={initPreview:function(){var t=this.element,i=this.crossOrigin,e=this.options.preview,r=i?this.crossOriginUrl:this.url,n=t.alt||"The image to preview",o=document.createElement("img");if(i&&(o.crossOrigin=i),o.src=r,o.alt=n,this.viewBox.appendChild(o),this.viewBoxImage=o,!!e){var s=e;typeof e=="string"?s=t.ownerDocument.querySelectorAll(e):e.querySelector&&(s=[e]),this.previews=s,X(s,function(h){var l=document.createElement("img");Kt(h,se,{width:h.offsetWidth,height:h.offsetHeight,html:h.innerHTML}),i&&(l.crossOrigin=i),l.src=r,l.alt=n,l.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',h.innerHTML="",h.appendChild(l)})}},resetPreview:function(){X(this.previews,function(t){var i=Le(t,se);wt(t,{width:i.width,height:i.height}),t.innerHTML=i.html,ka(t,se)})},preview:function(){var t=this.imageData,i=this.canvasData,e=this.cropBoxData,r=e.width,n=e.height,o=t.width,s=t.height,h=e.left-i.left-t.left,l=e.top-i.top-t.top;!this.cropped||this.disabled||(wt(this.viewBoxImage,I({width:o,height:s},Vt(I({translateX:-h,translateY:-l},t)))),X(this.previews,function(u){var c=Le(u,se),f=c.width,m=c.height,g=f,v=m,E=1;r&&(E=f/r,v=n*E),n&&v>m&&(E=m/n,g=r*E,v=m),wt(u,{width:g,height:v}),wt(u.getElementsByTagName("img")[0],I({width:o*E,height:s*E},Vt(I({translateX:-h*E,translateY:-l*E},t))))}))}},Ka={bind:function(){var t=this.element,i=this.options,e=this.cropper;Z(i.cropstart)&&nt(t,Be,i.cropstart),Z(i.cropmove)&&nt(t,ke,i.cropmove),Z(i.cropend)&&nt(t,Re,i.cropend),Z(i.crop)&&nt(t,Pe,i.crop),Z(i.zoom)&&nt(t,Ye,i.zoom),nt(e,di,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&nt(e,bi,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&nt(e,fi,this.onDblclick=this.dblclick.bind(this)),nt(t.ownerDocument,pi,this.onCropMove=this.cropMove.bind(this)),nt(t.ownerDocument,gi,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&nt(window,vi,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,i=this.options,e=this.cropper;Z(i.cropstart)&&ot(t,Be,i.cropstart),Z(i.cropmove)&&ot(t,ke,i.cropmove),Z(i.cropend)&&ot(t,Re,i.cropend),Z(i.crop)&&ot(t,Pe,i.crop),Z(i.zoom)&&ot(t,Ye,i.zoom),ot(e,di,this.onCropStart),i.zoomable&&i.zoomOnWheel&&ot(e,bi,this.onWheel,{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&ot(e,fi,this.onDblclick),ot(t.ownerDocument,pi,this.onCropMove),ot(t.ownerDocument,gi,this.onCropEnd),i.responsive&&ot(window,vi,this.onResize)}},qa={resize:function(){if(!this.disabled){var t=this.options,i=this.container,e=this.containerData,r=i.offsetWidth/e.width,n=i.offsetHeight/e.height,o=Math.abs(r-1)>Math.abs(n-1)?r:n;if(o!==1){var s,h;t.restore&&(s=this.getCanvasData(),h=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(X(s,function(l,u){s[u]=l*o})),this.setCropBoxData(X(h,function(l,u){h[u]=l*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ni||this.setDragMode(Pa(this.dragBox,Ne)?Ai:ze)},wheel:function(t){var i=this,e=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*e,t)))},cropStart:function(t){var i=t.buttons,e=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(S(i)&&i!==1||S(e)&&e!==0||t.ctrlKey))){var r=this.options,n=this.pointers,o;t.changedTouches?X(t.changedTouches,function(s){n[s.identifier]=le(s)}):n[t.pointerId||0]=le(t),Object.keys(n).length>1&&r.zoomable&&r.zoomOnTouch?o=_i:o=Le(t.target,$t),Sa.test(o)&&Rt(this.element,Be,{originalEvent:t,action:o})!==!1&&(t.preventDefault(),this.action=o,this.cropping=!1,o===Oi&&(this.cropping=!0,j(this.dragBox,he)))}},cropMove:function(t){var i=this.action;if(!(this.disabled||!i)){var e=this.pointers;t.preventDefault(),Rt(this.element,ke,{originalEvent:t,action:i})!==!1&&(t.changedTouches?X(t.changedTouches,function(r){I(e[r.identifier]||{},le(r,!0))}):I(e[t.pointerId||0]||{},le(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var i=this.action,e=this.pointers;t.changedTouches?X(t.changedTouches,function(r){delete e[r.identifier]}):delete e[t.pointerId||0],i&&(t.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,It(this.dragBox,he,this.cropped&&this.options.modal)),Rt(this.element,Re,{originalEvent:t,action:i}))}}},Za={change:function(t){var i=this.options,e=this.canvasData,r=this.containerData,n=this.cropBoxData,o=this.pointers,s=this.action,h=i.aspectRatio,l=n.left,u=n.top,c=n.width,f=n.height,m=l+c,g=u+f,v=0,E=0,M=r.width,x=r.height,T=!0,R;!h&&t.shiftKey&&(h=c&&f?c/f:1),this.limited&&(v=n.minLeft,E=n.minTop,M=v+Math.min(r.width,e.width,e.left+e.width),x=E+Math.min(r.height,e.height,e.top+e.height));var Y=o[Object.keys(o)[0]],d={x:Y.endX-Y.startX,y:Y.endY-Y.startY},D=function(_){switch(_){case xt:m+d.x>M&&(d.x=M-m);break;case Ct:l+d.x<v&&(d.x=v-l);break;case bt:u+d.y<E&&(d.y=E-u);break;case At:g+d.y>x&&(d.y=x-g);break}};switch(s){case We:l+=d.x,u+=d.y;break;case xt:if(d.x>=0&&(m>=M||h&&(u<=E||g>=x))){T=!1;break}D(xt),c+=d.x,c<0&&(s=Ct,c=-c,l-=c),h&&(f=c/h,u+=(n.height-f)/2);break;case bt:if(d.y<=0&&(u<=E||h&&(l<=v||m>=M))){T=!1;break}D(bt),f-=d.y,u+=d.y,f<0&&(s=At,f=-f,u-=f),h&&(c=f*h,l+=(n.width-c)/2);break;case Ct:if(d.x<=0&&(l<=v||h&&(u<=E||g>=x))){T=!1;break}D(Ct),c-=d.x,l+=d.x,c<0&&(s=xt,c=-c,l-=c),h&&(f=c/h,u+=(n.height-f)/2);break;case At:if(d.y>=0&&(g>=x||h&&(l<=v||m>=M))){T=!1;break}D(At),f+=d.y,f<0&&(s=bt,f=-f,u-=f),h&&(c=f*h,l+=(n.width-c)/2);break;case Ft:if(h){if(d.y<=0&&(u<=E||m>=M)){T=!1;break}D(bt),f-=d.y,u+=d.y,c=f*h}else D(bt),D(xt),d.x>=0?m<M?c+=d.x:d.y<=0&&u<=E&&(T=!1):c+=d.x,d.y<=0?u>E&&(f-=d.y,u+=d.y):(f-=d.y,u+=d.y);c<0&&f<0?(s=Gt,f=-f,c=-c,u-=f,l-=c):c<0?(s=jt,c=-c,l-=c):f<0&&(s=Ut,f=-f,u-=f);break;case jt:if(h){if(d.y<=0&&(u<=E||l<=v)){T=!1;break}D(bt),f-=d.y,u+=d.y,c=f*h,l+=n.width-c}else D(bt),D(Ct),d.x<=0?l>v?(c-=d.x,l+=d.x):d.y<=0&&u<=E&&(T=!1):(c-=d.x,l+=d.x),d.y<=0?u>E&&(f-=d.y,u+=d.y):(f-=d.y,u+=d.y);c<0&&f<0?(s=Ut,f=-f,c=-c,u-=f,l-=c):c<0?(s=Ft,c=-c,l-=c):f<0&&(s=Gt,f=-f,u-=f);break;case Gt:if(h){if(d.x<=0&&(l<=v||g>=x)){T=!1;break}D(Ct),c-=d.x,l+=d.x,f=c/h}else D(At),D(Ct),d.x<=0?l>v?(c-=d.x,l+=d.x):d.y>=0&&g>=x&&(T=!1):(c-=d.x,l+=d.x),d.y>=0?g<x&&(f+=d.y):f+=d.y;c<0&&f<0?(s=Ft,f=-f,c=-c,u-=f,l-=c):c<0?(s=Ut,c=-c,l-=c):f<0&&(s=jt,f=-f,u-=f);break;case Ut:if(h){if(d.x>=0&&(m>=M||g>=x)){T=!1;break}D(xt),c+=d.x,f=c/h}else D(At),D(xt),d.x>=0?m<M?c+=d.x:d.y>=0&&g>=x&&(T=!1):c+=d.x,d.y>=0?g<x&&(f+=d.y):f+=d.y;c<0&&f<0?(s=jt,f=-f,c=-c,u-=f,l-=c):c<0?(s=Gt,c=-c,l-=c):f<0&&(s=Ft,f=-f,u-=f);break;case Mi:this.move(d.x,d.y),T=!1;break;case _i:this.zoom(Ya(o),t),T=!1;break;case Oi:if(!d.x||!d.y){T=!1;break}R=Yi(this.cropper),l=Y.startX-R.left,u=Y.startY-R.top,c=n.minWidth,f=n.minHeight,d.x>0?s=d.y>0?Ut:Ft:d.x<0&&(l-=c,s=d.y>0?Gt:jt),d.y<0&&(u-=f),this.cropped||(ht(this.cropBox,Q),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}T&&(n.width=c,n.height=f,n.left=l,n.top=u,this.action=s,this.renderCropBox()),X(o,function(A){A.startX=A.endX,A.startY=A.endY})}},Qa={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&j(this.dragBox,he),ht(this.cropBox,Q),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=I({},this.initialImageData),this.canvasData=I({},this.initialCanvasData),this.cropBoxData=I({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(I(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ht(this.dragBox,he),j(this.cropBox,Q)),this},replace:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),i?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,X(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ht(this.cropper,ci)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,j(this.cropper,ci)),this},destroy:function(){var t=this.element;return t[N]?(t[N]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,e=this.canvasData,r=e.left,n=e.top;return this.moveTo(Oe(t)?t:r+Number(t),Oe(i)?i:n+Number(i))},moveTo:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,e=this.canvasData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(S(t)&&(e.left=t,r=!0),S(i)&&(e.top=i,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,i){var e=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(e.width*t/e.naturalWidth,null,i)},zoomTo:function(t,i,e){var r=this.options,n=this.canvasData,o=n.width,s=n.height,h=n.naturalWidth,l=n.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&r.zoomable){var u=h*t,c=l*t;if(Rt(this.element,Ye,{ratio:t,oldRatio:o/h,originalEvent:e})===!1)return this;if(e){var f=this.pointers,m=Yi(this.cropper),g=f&&Object.keys(f).length?La(f):{pageX:e.pageX,pageY:e.pageY};n.left-=(u-o)*((g.pageX-m.left-n.left)/o),n.top-=(c-s)*((g.pageY-m.top-n.top)/s)}else Nt(i)&&S(i.x)&&S(i.y)?(n.left-=(u-o)*((i.x-n.left)/o),n.top-=(c-s)*((i.y-n.top)/s)):(n.left-=(u-o)/2,n.top-=(c-s)/2);n.width=u,n.height=c,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),S(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var i=this.imageData.scaleY;return this.scale(t,S(i)?i:1)},scaleY:function(t){var i=this.imageData.scaleX;return this.scale(S(i)?i:1,t)},scale:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,e=this.imageData,r=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(S(t)&&(e.scaleX=t,r=!0),S(i)&&(e.scaleY=i,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.options,e=this.imageData,r=this.canvasData,n=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:n.left-r.left,y:n.top-r.top,width:n.width,height:n.height};var s=e.width/e.naturalWidth;if(X(o,function(u,c){o[c]=u/s}),t){var h=Math.round(o.y+o.height),l=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=l-o.x,o.height=h-o.y}}else o={x:0,y:0,width:0,height:0};return i.rotatable&&(o.rotate=e.rotate||0),i.scalable&&(o.scaleX=e.scaleX||1,o.scaleY=e.scaleY||1),o},setData:function(t){var i=this.options,e=this.imageData,r=this.canvasData,n={};if(this.ready&&!this.disabled&&Nt(t)){var o=!1;i.rotatable&&S(t.rotate)&&t.rotate!==e.rotate&&(e.rotate=t.rotate,o=!0),i.scalable&&(S(t.scaleX)&&t.scaleX!==e.scaleX&&(e.scaleX=t.scaleX,o=!0),S(t.scaleY)&&t.scaleY!==e.scaleY&&(e.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=e.width/e.naturalWidth;S(t.x)&&(n.left=t.x*s+r.left),S(t.y)&&(n.top=t.y*s+r.top),S(t.width)&&(n.width=t.width*s),S(t.height)&&(n.height=t.height*s),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?I({},this.containerData):{}},getImageData:function(){return this.sized?I({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,i={};return this.ready&&X(["left","top","width","height","naturalWidth","naturalHeight"],function(e){i[e]=t[e]}),i},setCanvasData:function(t){var i=this.canvasData,e=i.aspectRatio;return this.ready&&!this.disabled&&Nt(t)&&(S(t.left)&&(i.left=t.left),S(t.top)&&(i.top=t.top),S(t.width)?(i.width=t.width,i.height=t.width/e):S(t.height)&&(i.height=t.height,i.width=t.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,i;return this.ready&&this.cropped&&(i={left:t.left,top:t.top,width:t.width,height:t.height}),i||{}},setCropBoxData:function(t){var i=this.cropBoxData,e=this.options.aspectRatio,r,n;return this.ready&&this.cropped&&!this.disabled&&Nt(t)&&(S(t.left)&&(i.left=t.left),S(t.top)&&(i.top=t.top),S(t.width)&&t.width!==i.width&&(r=!0,i.width=t.width),S(t.height)&&t.height!==i.height&&(n=!0,i.height=t.height),e&&(r?i.height=i.width/e:n&&(i.width=i.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,e=Ha(this.image,this.imageData,i,t);if(!this.cropped)return e;var r=this.getData(t.rounded),n=r.x,o=r.y,s=r.width,h=r.height,l=e.width/Math.floor(i.naturalWidth);l!==1&&(n*=l,o*=l,s*=l,h*=l);var u=s/h,c=yt({aspectRatio:u,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=yt({aspectRatio:u,width:t.minWidth||0,height:t.minHeight||0},"cover"),m=yt({aspectRatio:u,width:t.width||(l!==1?e.width:s),height:t.height||(l!==1?e.height:h)}),g=m.width,v=m.height;g=Math.min(c.width,Math.max(f.width,g)),v=Math.min(c.height,Math.max(f.height,v));var E=document.createElement("canvas"),M=E.getContext("2d");E.width=Pt(g),E.height=Pt(v),M.fillStyle=t.fillColor||"transparent",M.fillRect(0,0,g,v);var x=t.imageSmoothingEnabled,T=x===void 0?!0:x,R=t.imageSmoothingQuality;M.imageSmoothingEnabled=T,R&&(M.imageSmoothingQuality=R);var Y=e.width,d=e.height,D=n,A=o,_,K,G,tt,z,F;D<=-s||D>Y?(D=0,_=0,G=0,z=0):D<=0?(G=-D,D=0,_=Math.min(Y,s+D),z=_):D<=Y&&(G=0,_=Math.min(s,Y-D),z=_),_<=0||A<=-h||A>d?(A=0,K=0,tt=0,F=0):A<=0?(tt=-A,A=0,K=Math.min(d,h+A),F=K):A<=d&&(tt=0,K=Math.min(h,d-A),F=K);var L=[D,A,_,K];if(z>0&&F>0){var V=g/s;L.push(G*V,tt*V,z*V,F*V)}return M.drawImage.apply(M,[e].concat(Ci(L.map(function(dt){return Math.floor(Pt(dt))})))),E},setAspectRatio:function(t){var i=this.options;return!this.disabled&&!Oe(t)&&(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var i=this.options,e=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var n=t===ze,o=i.movable&&t===Ai;t=n||o?t:Ni,i.dragMode=t,Kt(e,$t,t),It(e,Ne,n),It(e,Ie,o),i.cropBoxMovable||(Kt(r,$t,t),It(r,Ne,n),It(r,Ie,o))}return this}},Ja=ct.Cropper,je=function(){function a(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ua(this,a),!t||!Ta.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=I({},yi,Nt(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return fa(a,[{key:"init",value:function(){var i=this.element,e=i.tagName.toLowerCase(),r;if(!i[N]){if(i[N]=this,e==="img"){if(this.isImg=!0,r=i.getAttribute("src")||"",this.originalUrl=r,!r)return;r=i.src}else e==="canvas"&&window.HTMLCanvasElement&&(r=i.toDataURL());this.load(r)}}},{key:"load",value:function(i){var e=this;if(i){this.url=i,this.imageData={};var r=this.element,n=this.options;if(!n.rotatable&&!n.scalable&&(n.checkOrientation=!1),!n.checkOrientation||!window.ArrayBuffer){this.clone();return}if(xa.test(i)){Ca.test(i)?this.read(Fa(i)):this.clone();return}var o=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=s,o.onerror=s,o.ontimeout=s,o.onprogress=function(){o.getResponseHeader("content-type")!==wi&&o.abort()},o.onload=function(){e.read(o.response)},o.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&Di(i)&&r.crossOrigin&&(i=Si(i)),o.open("GET",i,!0),o.responseType="arraybuffer",o.withCredentials=r.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(i){var e=this.options,r=this.imageData,n=Ua(i),o=0,s=1,h=1;if(n>1){this.url=ja(i,wi);var l=Ga(n);o=l.rotate,s=l.scaleX,h=l.scaleY}e.rotatable&&(r.rotate=o),e.scalable&&(r.scaleX=s,r.scaleY=h),this.clone()}},{key:"clone",value:function(){var i=this.element,e=this.url,r=i.crossOrigin,n=e;this.options.checkCrossOrigin&&Di(e)&&(r||(r="anonymous"),n=Si(e)),this.crossOrigin=r,this.crossOriginUrl=n;var o=document.createElement("img");r&&(o.crossOrigin=r),o.src=n||e,o.alt=i.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),j(o,ui),i.parentNode.insertBefore(o,i.nextSibling)}},{key:"start",value:function(){var i=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var r=ct.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ct.navigator.userAgent),n=function(l,u){I(i.imageData,{naturalWidth:l,naturalHeight:u,aspectRatio:l/u}),i.initialImageData=I({},i.imageData),i.sizing=!1,i.sized=!0,i.build()};if(e.naturalWidth&&!r){n(e.naturalWidth,e.naturalHeight);return}var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),r||s.removeChild(o)},o.src=e.src,r||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}},{key:"stop",value:function(){var i=this.image;i.onload=null,i.onerror=null,i.parentNode.removeChild(i),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var i=this.element,e=this.options,r=this.image,n=i.parentNode,o=document.createElement("div");o.innerHTML=Oa;var s=o.querySelector(".".concat(N,"-container")),h=s.querySelector(".".concat(N,"-canvas")),l=s.querySelector(".".concat(N,"-drag-box")),u=s.querySelector(".".concat(N,"-crop-box")),c=u.querySelector(".".concat(N,"-face"));this.container=n,this.cropper=s,this.canvas=h,this.dragBox=l,this.cropBox=u,this.viewBox=s.querySelector(".".concat(N,"-view-box")),this.face=c,h.appendChild(r),j(i,Q),n.insertBefore(s,i.nextSibling),ht(r,ui),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,j(u,Q),e.guides||j(u.getElementsByClassName("".concat(N,"-dashed")),Q),e.center||j(u.getElementsByClassName("".concat(N,"-center")),Q),e.background&&j(s,"".concat(N,"-bg")),e.highlight||j(c,wa),e.cropBoxMovable&&(j(c,Ie),Kt(c,$t,We)),e.cropBoxResizable||(j(u.getElementsByClassName("".concat(N,"-line")),Q),j(u.getElementsByClassName("".concat(N,"-point")),Q)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),Z(e.ready)&&nt(i,mi,e.ready,{once:!0}),Rt(i,mi)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var i=this.cropper.parentNode;i&&i.removeChild(this.cropper),ht(this.element,Q)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Ja,a}},{key:"setDefaults",value:function(i){I(yi,Nt(i)&&i)}}]),a}();I(je.prototype,Va,$a,Ka,qa,Za,Qa);function Xi(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);t&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),i.push.apply(i,e)}return i}function ft(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Xi(Object(i),!0).forEach(function(e){tn(a,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Xi(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}function ge(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ge=function(t){return typeof t}:ge=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(a)}function tn(a,t,i){return t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function mt(){return mt=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(a[e]=i[e])}return a},mt.apply(this,arguments)}function en(a,t){if(a==null)return{};var i={},e=Object.keys(a),r,n;for(n=0;n<e.length;n++)r=e[n],!(t.indexOf(r)>=0)&&(i[r]=a[r]);return i}function an(a,t){if(a==null)return{};var i=en(a,t),e,r;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)e=n[r],!(t.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(a,e)&&(i[e]=a[e])}return i}var nn="1.15.2";function gt(a){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(a)}var vt=gt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ne=gt(/Edge/i),Hi=gt(/firefox/i),Jt=gt(/safari/i)&&!gt(/chrome/i)&&!gt(/android/i),$i=gt(/iP(ad|od|hone)/i),Ki=gt(/chrome/i)&&gt(/android/i),qi={capture:!1,passive:!1};function O(a,t,i){a.addEventListener(t,i,!vt&&qi)}function C(a,t,i){a.removeEventListener(t,i,!vt&&qi)}function ye(a,t){if(t){if(t[0]===">"&&(t=t.substring(1)),a)try{if(a.matches)return a.matches(t);if(a.msMatchesSelector)return a.msMatchesSelector(t);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(t)}catch{return!1}return!1}}function rn(a){return a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode}function lt(a,t,i,e){if(a){i=i||document;do{if(t!=null&&(t[0]===">"?a.parentNode===i&&ye(a,t):ye(a,t))||e&&a===i)return a;if(a===i)break}while(a=rn(a))}return null}var Wi=/\s+/g;function et(a,t,i){if(a&&t)if(a.classList)a.classList[i?"add":"remove"](t);else{var e=(" "+a.className+" ").replace(Wi," ").replace(" "+t+" "," ");a.className=(e+(i?" "+t:"")).replace(Wi," ")}}function b(a,t,i){var e=a&&a.style;if(e){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(i=a.currentStyle),t===void 0?i:i[t];!(t in e)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),e[t]=i+(typeof i=="string"?"":"px")}}function Xt(a,t){var i="";if(typeof a=="string")i=a;else do{var e=b(a,"transform");e&&e!=="none"&&(i=e+" "+i)}while(!t&&(a=a.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function Zi(a,t,i){if(a){var e=a.getElementsByTagName(t),r=0,n=e.length;if(i)for(;r<n;r++)i(e[r],r);return e}return[]}function ut(){var a=document.scrollingElement;return a||document.documentElement}function W(a,t,i,e,r){if(!(!a.getBoundingClientRect&&a!==window)){var n,o,s,h,l,u,c;if(a!==window&&a.parentNode&&a!==ut()?(n=a.getBoundingClientRect(),o=n.top,s=n.left,h=n.bottom,l=n.right,u=n.height,c=n.width):(o=0,s=0,h=window.innerHeight,l=window.innerWidth,u=window.innerHeight,c=window.innerWidth),(t||i)&&a!==window&&(r=r||a.parentNode,!vt))do if(r&&r.getBoundingClientRect&&(b(r,"transform")!=="none"||i&&b(r,"position")!=="static")){var f=r.getBoundingClientRect();o-=f.top+parseInt(b(r,"border-top-width")),s-=f.left+parseInt(b(r,"border-left-width")),h=o+n.height,l=s+n.width;break}while(r=r.parentNode);if(e&&a!==window){var m=Xt(r||a),g=m&&m.a,v=m&&m.d;m&&(o/=v,s/=g,c/=g,u/=v,h=o+u,l=s+c)}return{top:o,left:s,bottom:h,right:l,width:c,height:u}}}function zi(a,t,i){for(var e=St(a,!0),r=W(a)[t];e;){var n=W(e)[i],o=void 0;if(i==="top"||i==="left"?o=r>=n:o=r<=n,!o)return e;if(e===ut())break;e=St(e,!1)}return!1}function Ht(a,t,i,e){for(var r=0,n=0,o=a.children;n<o.length;){if(o[n].style.display!=="none"&&o[n]!==w.ghost&&(e||o[n]!==w.dragged)&&lt(o[n],i.draggable,a,!1)){if(r===t)return o[n];r++}n++}return null}function ni(a,t){for(var i=a.lastElementChild;i&&(i===w.ghost||b(i,"display")==="none"||t&&!ye(i,t));)i=i.previousElementSibling;return i||null}function rt(a,t){var i=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)a.nodeName.toUpperCase()!=="TEMPLATE"&&a!==w.clone&&(!t||ye(a,t))&&i++;return i}function Fi(a){var t=0,i=0,e=ut();if(a)do{var r=Xt(a),n=r.a,o=r.d;t+=a.scrollLeft*n,i+=a.scrollTop*o}while(a!==e&&(a=a.parentNode));return[t,i]}function on(a,t){for(var i in a)if(a.hasOwnProperty(i)){for(var e in t)if(t.hasOwnProperty(e)&&t[e]===a[i][e])return Number(i)}return-1}function St(a,t){if(!a||!a.getBoundingClientRect)return ut();var i=a,e=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=b(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return ut();if(e||t)return i;e=!0}}while(i=i.parentNode);return ut()}function sn(a,t){if(a&&t)for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);return a}function Ue(a,t){return Math.round(a.top)===Math.round(t.top)&&Math.round(a.left)===Math.round(t.left)&&Math.round(a.height)===Math.round(t.height)&&Math.round(a.width)===Math.round(t.width)}var te;function Qi(a,t){return function(){if(!te){var i=arguments,e=this;i.length===1?a.call(e,i[0]):a.apply(e,i),te=setTimeout(function(){te=void 0},t)}}}function ln(){clearTimeout(te),te=void 0}function Ji(a,t,i){a.scrollLeft+=t,a.scrollTop+=i}function ta(a){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(a).cloneNode(!0):i?i(a).clone(!0)[0]:a.cloneNode(!0)}function ea(a,t,i){var e={};return Array.from(a.children).forEach(function(r){var n,o,s,h;if(!(!lt(r,t.draggable,a,!1)||r.animated||r===i)){var l=W(r);e.left=Math.min((n=e.left)!==null&&n!==void 0?n:1/0,l.left),e.top=Math.min((o=e.top)!==null&&o!==void 0?o:1/0,l.top),e.right=Math.max((s=e.right)!==null&&s!==void 0?s:-1/0,l.right),e.bottom=Math.max((h=e.bottom)!==null&&h!==void 0?h:-1/0,l.bottom)}}),e.width=e.right-e.left,e.height=e.bottom-e.top,e.x=e.left,e.y=e.top,e}var at="Sortable"+new Date().getTime();function hn(){var a=[],t;return{captureAnimationState:function(){if(a=[],!!this.options.animation){var e=[].slice.call(this.el.children);e.forEach(function(r){if(!(b(r,"display")==="none"||r===w.ghost)){a.push({target:r,rect:W(r)});var n=ft({},a[a.length-1].rect);if(r.thisAnimationDuration){var o=Xt(r,!0);o&&(n.top-=o.f,n.left-=o.e)}r.fromRect=n}})}},addAnimationState:function(e){a.push(e)},removeAnimationState:function(e){a.splice(on(a,{target:e}),1)},animateAll:function(e){var r=this;if(!this.options.animation){clearTimeout(t),typeof e=="function"&&e();return}var n=!1,o=0;a.forEach(function(s){var h=0,l=s.target,u=l.fromRect,c=W(l),f=l.prevFromRect,m=l.prevToRect,g=s.rect,v=Xt(l,!0);v&&(c.top-=v.f,c.left-=v.e),l.toRect=c,l.thisAnimationDuration&&Ue(f,c)&&!Ue(u,c)&&(g.top-c.top)/(g.left-c.left)===(u.top-c.top)/(u.left-c.left)&&(h=un(g,f,m,r.options)),Ue(c,u)||(l.prevFromRect=u,l.prevToRect=c,h||(h=r.options.animation),r.animate(l,g,c,h)),h&&(n=!0,o=Math.max(o,h),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},h),l.thisAnimationDuration=h)}),clearTimeout(t),n?t=setTimeout(function(){typeof e=="function"&&e()},o):typeof e=="function"&&e(),a=[]},animate:function(e,r,n,o){if(o){b(e,"transition",""),b(e,"transform","");var s=Xt(this.el),h=s&&s.a,l=s&&s.d,u=(r.left-n.left)/(h||1),c=(r.top-n.top)/(l||1);e.animatingX=!!u,e.animatingY=!!c,b(e,"transform","translate3d("+u+"px,"+c+"px,0)"),this.forRepaintDummy=cn(e),b(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),b(e,"transform","translate3d(0,0,0)"),typeof e.animated=="number"&&clearTimeout(e.animated),e.animated=setTimeout(function(){b(e,"transition",""),b(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},o)}}}}function cn(a){return a.offsetWidth}function un(a,t,i,e){return Math.sqrt(Math.pow(t.top-a.top,2)+Math.pow(t.left-a.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*e.animation}var kt=[],Ge={initializeByDefault:!0},re={mount:function(t){for(var i in Ge)Ge.hasOwnProperty(i)&&!(i in t)&&(t[i]=Ge[i]);kt.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),kt.push(t)},pluginEvent:function(t,i,e){var r=this;this.eventCanceled=!1,e.cancel=function(){r.eventCanceled=!0};var n=t+"Global";kt.forEach(function(o){i[o.pluginName]&&(i[o.pluginName][n]&&i[o.pluginName][n](ft({sortable:i},e)),i.options[o.pluginName]&&i[o.pluginName][t]&&i[o.pluginName][t](ft({sortable:i},e)))})},initializePlugins:function(t,i,e,r){kt.forEach(function(s){var h=s.pluginName;if(!(!t.options[h]&&!s.initializeByDefault)){var l=new s(t,i,t.options);l.sortable=t,l.options=t.options,t[h]=l,mt(e,l.defaults)}});for(var n in t.options)if(t.options.hasOwnProperty(n)){var o=this.modifyOption(t,n,t.options[n]);typeof o<"u"&&(t.options[n]=o)}},getEventProperties:function(t,i){var e={};return kt.forEach(function(r){typeof r.eventProperties=="function"&&mt(e,r.eventProperties.call(i[r.pluginName],t))}),e},modifyOption:function(t,i,e){var r;return kt.forEach(function(n){t[n.pluginName]&&n.optionListeners&&typeof n.optionListeners[i]=="function"&&(r=n.optionListeners[i].call(t[n.pluginName],e))}),r}};function fn(a){var t=a.sortable,i=a.rootEl,e=a.name,r=a.targetEl,n=a.cloneEl,o=a.toEl,s=a.fromEl,h=a.oldIndex,l=a.newIndex,u=a.oldDraggableIndex,c=a.newDraggableIndex,f=a.originalEvent,m=a.putSortable,g=a.extraEventProperties;if(t=t||i&&i[at],!!t){var v,E=t.options,M="on"+e.charAt(0).toUpperCase()+e.substr(1);window.CustomEvent&&!vt&&!ne?v=new CustomEvent(e,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(e,!0,!0)),v.to=o||i,v.from=s||i,v.item=r||i,v.clone=n,v.oldIndex=h,v.newIndex=l,v.oldDraggableIndex=u,v.newDraggableIndex=c,v.originalEvent=f,v.pullMode=m?m.lastPutMode:void 0;var x=ft(ft({},g),re.getEventProperties(e,t));for(var T in x)v[T]=x[T];i&&i.dispatchEvent(v),E[M]&&E[M].call(t,v)}}var dn=["evt"],J=function(t,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.evt,n=an(e,dn);re.pluginEvent.bind(w)(t,i,ft({dragEl:p,parentEl:B,ghostEl:y,rootEl:P,nextEl:_t,lastDownEl:me,cloneEl:k,cloneHidden:Dt,dragStarted:qt,putSortable:U,activeSortable:w.active,originalEvent:r,oldIndex:Lt,oldDraggableIndex:ee,newIndex:it,newDraggableIndex:Et,hideGhostForTarget:ra,unhideGhostForTarget:oa,cloneNowHidden:function(){Dt=!0},cloneNowShown:function(){Dt=!1},dispatchSortableEvent:function(s){q({sortable:i,name:s,originalEvent:r})}},n))};function q(a){fn(ft({putSortable:U,cloneEl:k,targetEl:p,rootEl:P,oldIndex:Lt,oldDraggableIndex:ee,newIndex:it,newDraggableIndex:Et},a))}var p,B,y,P,_t,me,k,Dt,Lt,it,ee,Et,ue,U,Yt=!1,Ee=!1,De=[],Ot,st,Ve,$e,ji,Ui,qt,Bt,ie,ae=!1,fe=!1,ve,$,Ke=[],ti=!1,Se=[],Ce=typeof document<"u",de=$i,Gi=ne||vt?"cssFloat":"float",pn=Ce&&!Ki&&!$i&&"draggable"in document.createElement("div"),ia=function(){if(Ce){if(vt)return!1;var a=document.createElement("x");return a.style.cssText="pointer-events:auto",a.style.pointerEvents==="auto"}}(),aa=function(t,i){var e=b(t),r=parseInt(e.width)-parseInt(e.paddingLeft)-parseInt(e.paddingRight)-parseInt(e.borderLeftWidth)-parseInt(e.borderRightWidth),n=Ht(t,0,i),o=Ht(t,1,i),s=n&&b(n),h=o&&b(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+W(n).width,u=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+W(o).width;if(e.display==="flex")return e.flexDirection==="column"||e.flexDirection==="column-reverse"?"vertical":"horizontal";if(e.display==="grid")return e.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&s.float&&s.float!=="none"){var c=s.float==="left"?"left":"right";return o&&(h.clear==="both"||h.clear===c)?"vertical":"horizontal"}return n&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=r&&e[Gi]==="none"||o&&e[Gi]==="none"&&l+u>r)?"vertical":"horizontal"},gn=function(t,i,e){var r=e?t.left:t.top,n=e?t.right:t.bottom,o=e?t.width:t.height,s=e?i.left:i.top,h=e?i.right:i.bottom,l=e?i.width:i.height;return r===s||n===h||r+o/2===s+l/2},mn=function(t,i){var e;return De.some(function(r){var n=r[at].options.emptyInsertThreshold;if(!(!n||ni(r))){var o=W(r),s=t>=o.left-n&&t<=o.right+n,h=i>=o.top-n&&i<=o.bottom+n;if(s&&h)return e=r}}),e},na=function(t){function i(n,o){return function(s,h,l,u){var c=s.options.group.name&&h.options.group.name&&s.options.group.name===h.options.group.name;if(n==null&&(o||c))return!0;if(n==null||n===!1)return!1;if(o&&n==="clone")return n;if(typeof n=="function")return i(n(s,h,l,u),o)(s,h,l,u);var f=(o?s:h).options.group.name;return n===!0||typeof n=="string"&&n===f||n.join&&n.indexOf(f)>-1}}var e={},r=t.group;(!r||ge(r)!="object")&&(r={name:r}),e.name=r.name,e.checkPull=i(r.pull,!0),e.checkPut=i(r.put),e.revertClone=r.revertClone,t.group=e},ra=function(){!ia&&y&&b(y,"display","none")},oa=function(){!ia&&y&&b(y,"display","")};Ce&&!Ki&&document.addEventListener("click",function(a){if(Ee)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),Ee=!1,!1},!0);var Mt=function(t){if(p){t=t.touches?t.touches[0]:t;var i=mn(t.clientX,t.clientY);if(i){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.target=e.rootEl=i,e.preventDefault=void 0,e.stopPropagation=void 0,i[at]._onDragOver(e)}}},vn=function(t){p&&p.parentNode[at]._isOutsideThisEl(t.target)};function w(a,t){if(!(a&&a.nodeType&&a.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a,this.options=t=mt({},t),a[at]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return aa(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!Jt,emptyInsertThreshold:5};re.initializePlugins(this,a,i);for(var e in i)!(e in t)&&(t[e]=i[e]);na(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:pn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?O(a,"pointerdown",this._onTapStart):(O(a,"mousedown",this._onTapStart),O(a,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(a,"dragover",this),O(a,"dragenter",this)),De.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),mt(this,hn())}w.prototype={constructor:w,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Bt=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,p):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i=this,e=this.el,r=this.options,n=r.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,h=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||h,u=r.filter;if(Cn(e),!p&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&Jt&&h&&h.tagName.toUpperCase()==="SELECT")&&(h=lt(h,r.draggable,e,!1),!(h&&h.animated)&&me!==h)){if(Lt=rt(h),ee=rt(h,r.draggable),typeof u=="function"){if(u.call(this,t,h,this)){q({sortable:i,rootEl:l,name:"filter",targetEl:h,toEl:e,fromEl:e}),J("filter",i,{evt:t}),n&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(c){if(c=lt(l,c.trim(),e,!1),c)return q({sortable:i,rootEl:c,name:"filter",targetEl:h,fromEl:e,toEl:e}),J("filter",i,{evt:t}),!0}),u)){n&&t.cancelable&&t.preventDefault();return}r.handle&&!lt(l,r.handle,e,!1)||this._prepareDragStart(t,s,h)}}},_prepareDragStart:function(t,i,e){var r=this,n=r.el,o=r.options,s=n.ownerDocument,h;if(e&&!p&&e.parentNode===n){var l=W(e);if(P=n,p=e,B=p.parentNode,_t=p.nextSibling,me=e,ue=o.group,w.dragged=p,Ot={target:p,clientX:(i||t).clientX,clientY:(i||t).clientY},ji=Ot.clientX-l.left,Ui=Ot.clientY-l.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,p.style["will-change"]="all",h=function(){if(J("delayEnded",r,{evt:t}),w.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Hi&&r.nativeDraggable&&(p.draggable=!0),r._triggerDragStart(t,i),q({sortable:r,name:"choose",originalEvent:t}),et(p,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){Zi(p,u.trim(),qe)}),O(s,"dragover",Mt),O(s,"mousemove",Mt),O(s,"touchmove",Mt),O(s,"mouseup",r._onDrop),O(s,"touchend",r._onDrop),O(s,"touchcancel",r._onDrop),Hi&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),J("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(ne||vt))){if(w.eventCanceled){this._onDrop();return}O(s,"mouseup",r._disableDelayedDrag),O(s,"touchend",r._disableDelayedDrag),O(s,"touchcancel",r._disableDelayedDrag),O(s,"mousemove",r._delayedDragTouchMoveHandler),O(s,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&O(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(h,o.delay)}else h()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&qe(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._disableDelayedDrag),C(t,"touchend",this._disableDelayedDrag),C(t,"touchcancel",this._disableDelayedDrag),C(t,"mousemove",this._delayedDragTouchMoveHandler),C(t,"touchmove",this._delayedDragTouchMoveHandler),C(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):i?O(document,"touchmove",this._onTouchMove):O(document,"mousemove",this._onTouchMove):(O(p,"dragend",this),O(P,"dragstart",this._onDragStart));try{document.selection?be(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(Yt=!1,P&&p){J("dragStarted",this,{evt:i}),this.nativeDraggable&&O(document,"dragover",vn);var e=this.options;!t&&et(p,e.dragClass,!1),et(p,e.ghostClass,!0),w.active=this,t&&this._appendGhost(),q({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(st){this._lastX=st.clientX,this._lastY=st.clientY,ra();for(var t=document.elementFromPoint(st.clientX,st.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(st.clientX,st.clientY),t!==i);)i=t;if(p.parentNode[at]._isOutsideThisEl(t),i)do{if(i[at]){var e=void 0;if(e=i[at]._onDragOver({clientX:st.clientX,clientY:st.clientY,target:t,rootEl:i}),e&&!this.options.dragoverBubble)break}t=i}while(i=i.parentNode);oa()}},_onTouchMove:function(t){if(Ot){var i=this.options,e=i.fallbackTolerance,r=i.fallbackOffset,n=t.touches?t.touches[0]:t,o=y&&Xt(y,!0),s=y&&o&&o.a,h=y&&o&&o.d,l=de&&$&&Fi($),u=(n.clientX-Ot.clientX+r.x)/(s||1)+(l?l[0]-Ke[0]:0)/(s||1),c=(n.clientY-Ot.clientY+r.y)/(h||1)+(l?l[1]-Ke[1]:0)/(h||1);if(!w.active&&!Yt){if(e&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<e)return;this._onDragStart(t,!0)}if(y){o?(o.e+=u-(Ve||0),o.f+=c-($e||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");b(y,"webkitTransform",f),b(y,"mozTransform",f),b(y,"msTransform",f),b(y,"transform",f),Ve=u,$e=c,st=n}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!y){var t=this.options.fallbackOnBody?document.body:P,i=W(p,!0,de,!0,t),e=this.options;if(de){for($=t;b($,"position")==="static"&&b($,"transform")==="none"&&$!==document;)$=$.parentNode;$!==document.body&&$!==document.documentElement?($===document&&($=ut()),i.top+=$.scrollTop,i.left+=$.scrollLeft):$=ut(),Ke=Fi($)}y=p.cloneNode(!0),et(y,e.ghostClass,!1),et(y,e.fallbackClass,!0),et(y,e.dragClass,!0),b(y,"transition",""),b(y,"transform",""),b(y,"box-sizing","border-box"),b(y,"margin",0),b(y,"top",i.top),b(y,"left",i.left),b(y,"width",i.width),b(y,"height",i.height),b(y,"opacity","0.8"),b(y,"position",de?"absolute":"fixed"),b(y,"zIndex","100000"),b(y,"pointerEvents","none"),w.ghost=y,t.appendChild(y),b(y,"transform-origin",ji/parseInt(y.style.width)*100+"% "+Ui/parseInt(y.style.height)*100+"%")}},_onDragStart:function(t,i){var e=this,r=t.dataTransfer,n=e.options;if(J("dragStart",this,{evt:t}),w.eventCanceled){this._onDrop();return}J("setupClone",this),w.eventCanceled||(k=ta(p),k.removeAttribute("id"),k.draggable=!1,k.style["will-change"]="",this._hideClone(),et(k,this.options.chosenClass,!1),w.clone=k),e.cloneId=be(function(){J("clone",e),!w.eventCanceled&&(e.options.removeCloneOnHide||P.insertBefore(k,p),e._hideClone(),q({sortable:e,name:"clone"}))}),!i&&et(p,n.dragClass,!0),i?(Ee=!0,e._loopId=setInterval(e._emulateDragOver,50)):(C(document,"mouseup",e._onDrop),C(document,"touchend",e._onDrop),C(document,"touchcancel",e._onDrop),r&&(r.effectAllowed="move",n.setData&&n.setData.call(e,r,p)),O(document,"drop",e),b(p,"transform","translateZ(0)")),Yt=!0,e._dragStartId=be(e._dragStarted.bind(e,i,t)),O(document,"selectstart",e),qt=!0,Jt&&b(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,e=t.target,r,n,o,s=this.options,h=s.group,l=w.active,u=ue===h,c=s.sort,f=U||l,m,g=this,v=!1;if(ti)return;function E(pt,Wt){J(pt,g,ft({evt:t,isOwner:u,axis:m?"vertical":"horizontal",revert:o,dragRect:r,targetRect:n,canSort:c,fromSortable:f,target:e,completed:x,onMove:function(zt,oe){return pe(P,i,p,r,zt,W(zt),t,oe)},changed:T},Wt))}function M(){E("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function x(pt){return E("dragOverCompleted",{insertion:pt}),pt&&(u?l._hideClone():l._showClone(g),g!==f&&(et(p,U?U.options.ghostClass:l.options.ghostClass,!1),et(p,s.ghostClass,!0)),U!==g&&g!==w.active?U=g:g===w.active&&U&&(U=null),f===g&&(g._ignoreWhileAnimating=e),g.animateAll(function(){E("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(e===p&&!p.animated||e===i&&!e.animated)&&(Bt=null),!s.dragoverBubble&&!t.rootEl&&e!==document&&(p.parentNode[at]._isOutsideThisEl(t.target),!pt&&Mt(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function T(){it=rt(p),Et=rt(p,s.draggable),q({sortable:g,name:"change",toEl:i,newIndex:it,newDraggableIndex:Et,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),e=lt(e,s.draggable,i,!0),E("dragOver"),w.eventCanceled)return v;if(p.contains(t.target)||e.animated&&e.animatingX&&e.animatingY||g._ignoreWhileAnimating===e)return x(!1);if(Ee=!1,l&&!s.disabled&&(u?c||(o=B!==P):U===this||(this.lastPutMode=ue.checkPull(this,l,p,t))&&h.checkPut(this,l,p,t))){if(m=this._getDirection(t,e)==="vertical",r=W(p),E("dragOverValid"),w.eventCanceled)return v;if(o)return B=P,M(),this._hideClone(),E("revert"),w.eventCanceled||(_t?P.insertBefore(p,_t):P.appendChild(p)),x(!0);var R=ni(i,s.draggable);if(!R||En(t,m,this)&&!R.animated){if(R===p)return x(!1);if(R&&i===t.target&&(e=R),e&&(n=W(e)),pe(P,i,p,r,e,n,t,!!e)!==!1)return M(),R&&R.nextSibling?i.insertBefore(p,R.nextSibling):i.appendChild(p),B=i,T(),x(!0)}else if(R&&yn(t,m,this)){var Y=Ht(i,0,s,!0);if(Y===p)return x(!1);if(e=Y,n=W(e),pe(P,i,p,r,e,n,t,!1)!==!1)return M(),i.insertBefore(p,Y),B=i,T(),x(!0)}else if(e.parentNode===i){n=W(e);var d=0,D,A=p.parentNode!==i,_=!gn(p.animated&&p.toRect||r,e.animated&&e.toRect||n,m),K=m?"top":"left",G=zi(e,"top","top")||zi(p,"top","top"),tt=G?G.scrollTop:void 0;Bt!==e&&(D=n[K],ae=!1,fe=!_&&s.invertSwap||A),d=Dn(t,e,n,m,_?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,fe,Bt===e);var z;if(d!==0){var F=rt(p);do F-=d,z=B.children[F];while(z&&(b(z,"display")==="none"||z===y))}if(d===0||z===e)return x(!1);Bt=e,ie=d;var L=e.nextElementSibling,V=!1;V=d===1;var dt=pe(P,i,p,r,e,n,t,V);if(dt!==!1)return(dt===1||dt===-1)&&(V=dt===1),ti=!0,setTimeout(wn,30),M(),V&&!L?i.appendChild(p):e.parentNode.insertBefore(p,V?L:e),G&&Ji(G,0,tt-G.scrollTop),B=p.parentNode,D!==void 0&&!fe&&(ve=Math.abs(D-W(e)[K])),T(),x(!0)}if(i.contains(p))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){C(document,"mousemove",this._onTouchMove),C(document,"touchmove",this._onTouchMove),C(document,"pointermove",this._onTouchMove),C(document,"dragover",Mt),C(document,"mousemove",Mt),C(document,"touchmove",Mt)},_offUpEvents:function(){var t=this.el.ownerDocument;C(t,"mouseup",this._onDrop),C(t,"touchend",this._onDrop),C(t,"pointerup",this._onDrop),C(t,"touchcancel",this._onDrop),C(document,"selectstart",this)},_onDrop:function(t){var i=this.el,e=this.options;if(it=rt(p),Et=rt(p,e.draggable),J("drop",this,{evt:t}),B=p&&p.parentNode,it=rt(p),Et=rt(p,e.draggable),w.eventCanceled){this._nulling();return}Yt=!1,fe=!1,ae=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ei(this.cloneId),ei(this._dragStartId),this.nativeDraggable&&(C(document,"drop",this),C(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Jt&&b(document.body,"user-select",""),b(p,"transform",""),t&&(qt&&(t.cancelable&&t.preventDefault(),!e.dropBubble&&t.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(P===B||U&&U.lastPutMode!=="clone")&&k&&k.parentNode&&k.parentNode.removeChild(k),p&&(this.nativeDraggable&&C(p,"dragend",this),qe(p),p.style["will-change"]="",qt&&!Yt&&et(p,U?U.options.ghostClass:this.options.ghostClass,!1),et(p,this.options.chosenClass,!1),q({sortable:this,name:"unchoose",toEl:B,newIndex:null,newDraggableIndex:null,originalEvent:t}),P!==B?(it>=0&&(q({rootEl:B,name:"add",toEl:B,fromEl:P,originalEvent:t}),q({sortable:this,name:"remove",toEl:B,originalEvent:t}),q({rootEl:B,name:"sort",toEl:B,fromEl:P,originalEvent:t}),q({sortable:this,name:"sort",toEl:B,originalEvent:t})),U&&U.save()):it!==Lt&&it>=0&&(q({sortable:this,name:"update",toEl:B,originalEvent:t}),q({sortable:this,name:"sort",toEl:B,originalEvent:t})),w.active&&((it==null||it===-1)&&(it=Lt,Et=ee),q({sortable:this,name:"end",toEl:B,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){J("nulling",this),P=p=B=y=_t=k=me=Dt=Ot=st=qt=it=Et=Lt=ee=Bt=ie=U=ue=w.dragged=w.ghost=w.clone=w.active=null,Se.forEach(function(t){t.checked=!0}),Se.length=Ve=$e=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":p&&(this._onDragOver(t),bn(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,e=this.el.children,r=0,n=e.length,o=this.options;r<n;r++)i=e[r],lt(i,o.draggable,this.el,!1)&&t.push(i.getAttribute(o.dataIdAttr)||xn(i));return t},sort:function(t,i){var e={},r=this.el;this.toArray().forEach(function(n,o){var s=r.children[o];lt(s,this.options.draggable,r,!1)&&(e[n]=s)},this),i&&this.captureAnimationState(),t.forEach(function(n){e[n]&&(r.removeChild(e[n]),r.appendChild(e[n]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return lt(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var e=this.options;if(i===void 0)return e[t];var r=re.modifyOption(this,t,i);typeof r<"u"?e[t]=r:e[t]=i,t==="group"&&na(e)},destroy:function(){J("destroy",this);var t=this.el;t[at]=null,C(t,"mousedown",this._onTapStart),C(t,"touchstart",this._onTapStart),C(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(t,"dragover",this),C(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),De.splice(De.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Dt){if(J("hideClone",this),w.eventCanceled)return;b(k,"display","none"),this.options.removeCloneOnHide&&k.parentNode&&k.parentNode.removeChild(k),Dt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Dt){if(J("showClone",this),w.eventCanceled)return;p.parentNode==P&&!this.options.group.revertClone?P.insertBefore(k,p):_t?P.insertBefore(k,_t):P.appendChild(k),this.options.group.revertClone&&this.animate(p,k),b(k,"display",""),Dt=!1}}};function bn(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault()}function pe(a,t,i,e,r,n,o,s){var h,l=a[at],u=l.options.onMove,c;return window.CustomEvent&&!vt&&!ne?h=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent("move",!0,!0)),h.to=t,h.from=a,h.dragged=i,h.draggedRect=e,h.related=r||t,h.relatedRect=n||W(t),h.willInsertAfter=s,h.originalEvent=o,a.dispatchEvent(h),u&&(c=u.call(l,h,o)),c}function qe(a){a.draggable=!1}function wn(){ti=!1}function yn(a,t,i){var e=W(Ht(i.el,0,i.options,!0)),r=ea(i.el,i.options,y),n=10;return t?a.clientX<r.left-n||a.clientY<e.top&&a.clientX<e.right:a.clientY<r.top-n||a.clientY<e.bottom&&a.clientX<e.left}function En(a,t,i){var e=W(ni(i.el,i.options.draggable)),r=ea(i.el,i.options,y),n=10;return t?a.clientX>r.right+n||a.clientY>e.bottom&&a.clientX>e.left:a.clientY>r.bottom+n||a.clientX>e.right&&a.clientY>e.top}function Dn(a,t,i,e,r,n,o,s){var h=e?a.clientY:a.clientX,l=e?i.height:i.width,u=e?i.top:i.left,c=e?i.bottom:i.right,f=!1;if(!o){if(s&&ve<l*r){if(!ae&&(ie===1?h>u+l*n/2:h<c-l*n/2)&&(ae=!0),ae)f=!0;else if(ie===1?h<u+ve:h>c-ve)return-ie}else if(h>u+l*(1-r)/2&&h<c-l*(1-r)/2)return Sn(t)}return f=f||o,f&&(h<u+l*n/2||h>c-l*n/2)?h>u+l/2?1:-1:0}function Sn(a){return rt(p)<rt(a)?1:-1}function xn(a){for(var t=a.tagName+a.className+a.src+a.href+a.textContent,i=t.length,e=0;i--;)e+=t.charCodeAt(i);return e.toString(36)}function Cn(a){Se.length=0;for(var t=a.getElementsByTagName("input"),i=t.length;i--;){var e=t[i];e.checked&&Se.push(e)}}function be(a){return setTimeout(a,0)}function ei(a){return clearTimeout(a)}Ce&&O(document,"touchmove",function(a){(w.active||Yt)&&a.cancelable&&a.preventDefault()});w.utils={on:O,off:C,css:b,find:Zi,is:function(t,i){return!!lt(t,i,t,!1)},extend:sn,throttle:Qi,closest:lt,toggleClass:et,clone:ta,index:rt,nextTick:be,cancelNextTick:ei,detectDirection:aa,getChild:Ht};w.get=function(a){return a[at]};w.mount=function(){for(var a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(w.utils=ft(ft({},w.utils),e.utils)),re.mount(e)})};w.create=function(a,t){return new w(a,t)};w.version=nn;var H=[],Zt,ii,ai=!1,Ze,Qe,xe,Qt;function Tn(){function a(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return a.prototype={dragStarted:function(i){var e=i.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):e.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var e=i.originalEvent;!this.options.dragOverBubble&&!e.rootEl&&this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):(C(document,"pointermove",this._handleFallbackAutoScroll),C(document,"touchmove",this._handleFallbackAutoScroll),C(document,"mousemove",this._handleFallbackAutoScroll)),Vi(),we(),ln()},nulling:function(){xe=ii=Zt=ai=Qt=Ze=Qe=null,H.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,e){var r=this,n=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,s=document.elementFromPoint(n,o);if(xe=i,e||this.options.forceAutoScrollFallback||ne||vt||Jt){Je(i,this.options,s,e);var h=St(s,!0);ai&&(!Qt||n!==Ze||o!==Qe)&&(Qt&&Vi(),Qt=setInterval(function(){var l=St(document.elementFromPoint(n,o),!0);l!==h&&(h=l,we()),Je(i,r.options,l,e)},10),Ze=n,Qe=o)}else{if(!this.options.bubbleScroll||St(s,!0)===ut()){we();return}Je(i,this.options,St(s,!1),!1)}}},mt(a,{pluginName:"scroll",initializeByDefault:!0})}function we(){H.forEach(function(a){clearInterval(a.pid)}),H=[]}function Vi(){clearInterval(Qt)}var Je=Qi(function(a,t,i,e){if(t.scroll){var r=(a.touches?a.touches[0]:a).clientX,n=(a.touches?a.touches[0]:a).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,h=ut(),l=!1,u;ii!==i&&(ii=i,we(),Zt=t.scroll,u=t.scrollFn,Zt===!0&&(Zt=St(i,!0)));var c=0,f=Zt;do{var m=f,g=W(m),v=g.top,E=g.bottom,M=g.left,x=g.right,T=g.width,R=g.height,Y=void 0,d=void 0,D=m.scrollWidth,A=m.scrollHeight,_=b(m),K=m.scrollLeft,G=m.scrollTop;m===h?(Y=T<D&&(_.overflowX==="auto"||_.overflowX==="scroll"||_.overflowX==="visible"),d=R<A&&(_.overflowY==="auto"||_.overflowY==="scroll"||_.overflowY==="visible")):(Y=T<D&&(_.overflowX==="auto"||_.overflowX==="scroll"),d=R<A&&(_.overflowY==="auto"||_.overflowY==="scroll"));var tt=Y&&(Math.abs(x-r)<=o&&K+T<D)-(Math.abs(M-r)<=o&&!!K),z=d&&(Math.abs(E-n)<=o&&G+R<A)-(Math.abs(v-n)<=o&&!!G);if(!H[c])for(var F=0;F<=c;F++)H[F]||(H[F]={});(H[c].vx!=tt||H[c].vy!=z||H[c].el!==m)&&(H[c].el=m,H[c].vx=tt,H[c].vy=z,clearInterval(H[c].pid),(tt!=0||z!=0)&&(l=!0,H[c].pid=setInterval(function(){e&&this.layer===0&&w.active._onTouchMove(xe);var L=H[this.layer].vy?H[this.layer].vy*s:0,V=H[this.layer].vx?H[this.layer].vx*s:0;typeof u=="function"&&u.call(w.dragged.parentNode[at],V,L,a,xe,H[this.layer].el)!=="continue"||Ji(H[this.layer].el,V,L)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&f!==h&&(f=St(f,!1)));ai=l}},30),sa=function(t){var i=t.originalEvent,e=t.putSortable,r=t.dragEl,n=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,h=t.unhideGhostForTarget;if(i){var l=e||n;s();var u=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,c=document.elementFromPoint(u.clientX,u.clientY);h(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:e}))}};function ri(){}ri.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,e=t.putSortable;this.sortable.captureAnimationState(),e&&e.captureAnimationState();var r=Ht(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),e&&e.animateAll()},drop:sa};mt(ri,{pluginName:"revertOnSpill"});function oi(){}oi.prototype={onSpill:function(t){var i=t.dragEl,e=t.putSortable,r=e||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:sa};mt(oi,{pluginName:"removeOnSpill"});w.mount(new Tn);w.mount(oi,ri);var la=w;window.ImageLibraryCropper=je;window.ImageLibrarySortable=la;})();
/*! Bundled license information:

cropperjs/dist/cropper.esm.js:
  (*!
   * Cropper.js v1.6.1
   * https://fengyuanchen.github.io/cropperjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2023-09-17T03:44:19.860Z
   *)

sortablejs/modular/sortable.esm.js:
  (**!
   * Sortable 1.15.2
   * @author	RubaXa   <trash@rubaxa.org>
   * @author	owenm    <owen23355@gmail.com>
   * @license MIT
   *)
*/
